@model AMI.Model.Criteria

@{
    ViewBag.Title = "Edit Criteria";
}

<h2>Edit @Model.Name</h2>
<div>
    <table>
        <thead>
            <tr>
                <td>

                </td>
                <td>
                    Outcome Text
                </td>
                <td>
                    Actions
                </td>
            </tr>
        </thead>
        <tbody>
            @for(int i = 0; i < Model.Outcomes.Count; i++)
            {
                var outcome = Model.Outcomes.ElementAt(i);
            <tr>
                <td style="font-weight:bold;">
                    @((char)('a' + i)). 
                </td>
                <td>
                    @outcome.Text
                </td>
                <td>
                    @Html.ActionLink("Edit", MVC5.ABET.EditOutcome(Model.Id, outcome.Id), new { @class = "modal" })
                </td>
            </tr>
            }
            <tr>
                <td>

                </td>
                <td>
                    
                </td>
            </tr>
        </tbody>
    </table>
</div>    
<div style="display:none;" id="modalDialog">
</div>
<script type="text/javascript">
    $(function () {
        $('#modalDialog').dialog({
            autoOpen: false,
            width: 400,
            resizable: false,
            modal: true,
            title: "Create/Edit Outcome",
            buttons: {
                "Save": function () {
                    $("#outcomeForm").submit();
                    $(this).dialog('close');
                },
                "Cancel": function () {
                    $(this).dialog('close');
                }
            }
        });
        $('.modal').click(function() {
            $('#modalDialog').load(this.href, function () {
                $(this).dialog('open');
            });
            return false;
        });
    });
</script>
